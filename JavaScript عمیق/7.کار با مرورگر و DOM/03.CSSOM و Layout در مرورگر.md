# CSSOM ู Layout ุฏุฑ ูุฑูุฑฺฏุฑ โ ุชูุถุญ ฺฉุงูู ู ุนูู

---

## ฑ. ุฏุฑฺฉ ฺฉู ุฌุฑุงู ุฑูุฏุฑูฺฏ

ูุฑูุฑฺฏุฑ ุจุฑุง ูุฑ ุตูุญู ูุจ ฺฉ ูุณุฑ ฺูุฏูุฑุญููโุง ุท ูโฺฉูุฏ ุชุง ูุญุชูุง HTML ู CSS ุฑุง ุจู ูพฺฉุณู ุฑู ุตูุญู ุชุจุฏู ฺฉูุฏ.  
ุงู ูุณุฑ ุดุงูู:  
- ุณุงุฎุชุงุฑ ุฏุฑุฎุช DOM  
- ุณุงุฎุชุงุฑ ุฏุฑุฎุช CSSOM  
- ุงุฏุบุงู ุงู ุฏู ุฏุฑุฎุช ุฏุฑ Render Tree  
- ูุฑุญููู Layout (ุง Reflow)  
- ูุฑุญููู Paint (ุง Repaint)  
- ูุฑุญููู Composite ุจุฑุง ููุงุด ููุง  

ูุฑ ฺฉุฏุงู ุงุฒ ุงู ูุงุฒูุง ุฑู ุนููฺฉุฑุฏ ู ุฑูุงู ุจูุฏู ุฑุงุจุท ฺฉุงุฑุจุฑ ุชุงุซุฑ ูุณุชูู ุฏุงุฑูุฏ.

---

## ฒ. CSSOM ฺุณุชุ

CSS Object Model ุง CSSOM ุจุงุฒููุง ุฏุฑุฎุช ุงุฒ ููุงุนุฏ ู ุงุณุชุงูโูุง ุงุณุช ฺฉู ุงุฒ CSS ุงุณุชุฎุฑุงุฌ ุดุฏู.  
ุฏุฑ ุงู ูุฑุญูู ูุฑูุฑฺฏุฑ:  
- ูุงูโูุง ู ุชฺฏโูุง `<style>` ุฑุง ูโุฎูุงูุฏ  
- ููุงุนุฏ ุฑุง ุจู ุณูฺฉุชูุฑ ู declaration ุชุฌุฒู ูโฺฉูุฏ  
- ฺฉ ุณุงุฎุชุงุฑ ุดโุกูุญูุฑ ูโุณุงุฒุฏ ฺฉู ุงูฺฉุงู lookup ุณุฑุน ุจุฑุง ูุฑ ฺฏุฑูู DOM ูุฑุงูู ุจุงุดุฏ  

CSSOM ุจูโููุฑุงู DOM ูุจูุง ูุญุงุณุจูู ููุง ุงุณุชุงู ูุฑ ุนูุตุฑ ุฑุง ุดฺฉู ูโุฏูุฏ.

---

## ณ. ูุงุฒูุง ุงุตู ุชุจุฏู ุจู ูพฺฉุณู

1. Style Calculation  
   ูุฑูุฑฺฏุฑ ุงุฒ ุชุฑฺฉุจ DOM ู CSSOM ฺฉ Render Tree ูโุณุงุฒุฏ.

2. Layout (Reflow)  
   ูููุนุช ู ุงุจุนุงุฏ ูุฑ ฺฏุฑูู Render Tree ูุญุงุณุจู ูโุดูุฏ.

3. Paint (Repaint)  
   ุชฺฉโุชฺฉ ููุฏูุง ุจุง ุฑูฺฏุ ูุชูุ ุณุงู ู ุชุตูุฑ ุฑู ุจฺฉู ุฑุณู ูโุดููุฏ.

4. Composite  
   ูุงูโูุง ูุฎุชูู ุจู ูู ฺุณุจุงูุฏู ู ุจู ุตูุญู ุชุญูู ูโุดููุฏ.

---

## ด. Layout ุง Reflow ฺุณุชุ

ุฏุฑ ุงู ูุงุฒ ูุฑูุฑฺฏุฑ ูุญุงุณุจุงุช ููุฏุณ ุงูุฌุงู ูโุฏูุฏ ุชุง ุจุจูุฏ ูุฑ ุนูุตุฑ ฺฉุฌุง ูุฑุงุฑ ุจฺฏุฑุฏ ู ฺู ุงูุฏุงุฒูโุง ุฏุงุดุชู ุจุงุดุฏ.  
Reflow ุณูฺฏูโุชุฑู ุจุฎุด ุฑูุฏุฑ ุงุณุช ฺูู:  
- ูุงุฒ ุจู ูุญุงุณุจุงุช ฺุฏูุงู ุณูุณููโูุฑุงุชุจ ุฏุงุฑุฏ  
- ูุฑ ุชุบุฑ ฺฉู ุงูุฏุงุฒู ุง ูููุนุช ฺฉ ููุฏ ุฑุง ุชุญุช ุชุงุซุฑ ูุฑุงุฑ ุฏูุฏุ ูโุชูุงูุฏ ุชูุงู ุฒุฑุฏุฑุฎุช ุฑุง ุฏุฑฺฏุฑ ฺฉูุฏ  

### ูุซุงู ุนููุงุช ูุญุฑฺฉ Reflow

| ุชุบุฑ                         | ููุน ุชุบุฑ               |
|-------------------------------|-------------------------|
| ุงุถุงูู/ุญุฐู ุงููุงู ุงุฒ DOM       | Reflow ฺฉู ุฒุฑุฏุฑุฎุช       |
| ุชุบุฑ width/height           | Reflow ููุฏ ู ูุงูุฏู     |
| ุชุบุฑ ูููุช ุง ุงูุฏุงุฒู ูุชู     | Reflow ู ุณูพุณ Repaint    |
| ุชุบุฑ ฺฉูุงุณ CSS ุจุง ุงุณุชุงูโูุง ุณุงุฒ| Reflow                  |

---

## ต. Paint ุง Repaint ฺุณุชุ

ูพุณ ุงุฒ ูุญุงุณุจูู ููุฏุณูุ ูุฑูุฑฺฏุฑ ุดุฑูุน ุจู ุฑูฺฏโุขูุฒ ูพฺฉุณูโูุง ูโฺฉูุฏ.  
ุฏุฑ ุงู ูุฑุญูู:  
- ูพุณโุฒูููุ ุฑูฺฏ ูุชูุ ุจุงูุชโูุงุ ุณุงูโูุง ุฑุณู ูโุดููุฏ  
- ุจุฑุฎูุงู Reflow ฺฉู ููุฏุณู ุฑุง ุจูโุฑูุฒ ูโฺฉูุฏุ Repaint ูโุชูุงูุฏ ุชููุง ุจุฎุด ุงุฒ ุตูุญู ุฑุง ุฏูุจุงุฑู ุฑูฺฏ ฺฉูุฏ  

### ูุซุงู ุนููุงุช ูุญุฑฺฉ Repaint

- ุชุบุฑ ุฑูฺฏ ูุชู (`color`)  
- ุชุบุฑ ูพุณโุฒููู (`background-color`)  
- ุชุบุฑ ฺฉููุงุช (ุจุฏูู ุชุบุฑ ููุฏุณู)  

---

## ถ. ุชุฃุซุฑ ุชุบุฑุงุช DOM ู CSSOM ุจุฑ Reflow ู Repaint

| ููุน ุชุบุฑ                                | Reflow | Repaint |
|------------------------------------------|--------|---------|
| ุชุบุฑ ฺฉูุงุณ ุจุฑุง ุงุจุนุงุฏ ุง ูููุนุช          | โ     | โ      |
| ุชุบุฑ ุฑูฺฏ ุง opacity                     | โ     | โ      |
| ุชุบุฑ transform (ูุซู translate/scale)    | โ     | โ      |
| ุชุบุฑ ูุญุชูุง (`textContent`)              | โ     | โ      |
| ุงูุฒูุฏู ุง ุญุฐู ุงููุงู                     | โ     | โ      |
| ุชุบุฑ visibility/hidden                  | โ     | โ      |

ุจุฑุง ฺฉุงุฑุง ุจูุชุฑ ุจุงุฏ ุชุบุฑุงุช ุฑุง ฺฏุฑููโุจูุฏ (batch) ฺฉุฑุฏ ุชุง ุชุนุฏุงุฏ Reflow ู Repaint ุจู ุญุฏุงูู ุจุฑุณุฏ.

---

## ท. ูฺฉุงุช ุจูููโุณุงุฒ

- ุงุจุชุฏุง ูููู ุชุบุฑุงุช ุฎูุงูุฏู ุงุฒ DOM (ูุซู `offsetWidth`) ุฑุง ุงูุฌุงู ุฏูุฏุ ุณูพุณ ุชุบุฑุงุช ููุดุชู (ูุซู `style`) ุฑุง ุงุนูุงู ฺฉูุฏ  
- ุชุบุฑุงุช ูฺฉุฑุฑ ุฑุง ุฏุฑูู `requestAnimationFrame` ูุฑุงุฑ ุฏูุฏ ุชุง ูุฑูุฑฺฏุฑ ุจุชูุงูุฏ ูุฑูโูุง ุฑุง ููุงููฺฏ ฺฉูุฏ  
- ุจุฑุง ุงููุดูโูุง ุณุงุฏู ุงุฒ `transform` ู `opacity` ุงุณุชูุงุฏู ฺฉูุฏ ฺูู ููุท ููุฌุฑ ุจู Repaint ูโุดููุฏ ู Reflow ุฑุง ูุนุงู ููโฺฉููุฏ  
- ุงุฒ CSS contain (ูุซูุงู `contain: layout paint;`) ุจุฑุง ุงุฒููู ฺฉุฑุฏู ุจุฎุดโูุง ุงุฒ DOM ฺฉู ุชุบุฑ ูโฺฉููุฏ  
- ุฏุฑ ูพุฑูฺูโูุง ุจุฒุฑฺฏ ุจู ุงุณุชูุงุฏู ุงุฒ Virtual DOM ุง ุฑุงูฺฉุงุฑูุง framework-level ูฺฉุฑ ฺฉูุฏ

---

## ธ. ุงุจุฒุงุฑูุง ุจุฑุง ูพฺฏุฑ ู ุชุญูู

- ุชุจ Performance ุฏุฑ DevTools ุจุฑุง ูุดุงูุฏู Timeline ู ุชุดุฎุต Reflow/Repaint  
- ฺฏุฒููู โLayout Shift Regionsโ ุจุฑุง ุจุฑุฌุณุชูโุณุงุฒ ุจุฎุดโูุง ฺฉู Reflow ุฑุฎ ุฏุงุฏู  
- Lighthouse ู WebPageTest ุจุฑุง ฺฏุฒุงุฑุด CLS (Cumulative Layout Shift)  
- ุงุจุฒุงุฑูุง ูพุฑููุงูโฺฏุฑ CSS ู ุฑูุฏุฑูฺฏ ูุงููุฏ Chrome DevTools Rendering panel

---

## น. ฺฏุงูโูุง ุจุนุฏ

ูโุชูุงูุฏ ุงุฒ ุงูุฌุง ุจู ูุจุงุญุซ ุฒุฑ ุจุฑูุฏ:  
- Virtual DOM ู ุงูฺฏูุฑุชู diffing  
- Web Workers ุจุฑุง offload ฺฉุฑุฏู ูุญุงุณุจุงุช ุณูฺฏู  
- CSS Houdini ู APIูุง ุฌุฏุฏ ุจุฑุง ฺฉูุชุฑู pipeline ุฑูุฏุฑ  
- Intersection Observer ู lazy-loading ุจุฑุง ุจูุจูุฏ ฺฉุงุฑุง  
- Advanced Layout Techniques ูุซู Grid ู Flexbox ุฏุฑ ฺฉูุงุฑ Containment APIs  

ฺฉุฏูู ฺฉ ุงุฒ ุงู ูุจุงุญุซ ุจุฑุงุช ุฌุฐุงุจโุชุฑู ุชุง ุนููโุชุฑ ูพุด ุจุฑูุ ๐
