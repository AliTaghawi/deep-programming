# BOM ู DOM ุฏุฑ JavaScript โ ุชูุถุญ ฺฉุงูู ู ุนูู

ุฏุฑ ุจุฑูุงููโููุณ ูุจุ ฺฉุงุฑ ุจุง ูุฑูุฑฺฏุฑ ู ุณูุฏ HTML ุงุฒ ุฏู ุจุฎุด ุงุตู ุชุดฺฉู ูโุดูุฏ:  
- **BOM** (Browser Object Model): ุฑุงุจุท ูุฑูุฑฺฏุฑ  
- **DOM** (Document Object Model): ุฑุงุจุท ุณูุฏ HTML  

---

## ฑ. ููุง ฺฉู BOM vs. DOM

- BOM: ูุฌููุนูู ุงุดุงุก ู APIูุง ฺฉู ูุฑูุฑฺฏุฑ ุจุฑุง ุฏุณุชุฑุณ ุจู ูุญุท ุจุฑูู (ูพูุฌุฑูุ URLุ ุชุงุฑุฎฺู) ุฏุฑ ุงุฎุชุงุฑ ูโฺฏุฐุงุฑุฏ.  
- DOM: ุจุงุฒููุง ุฏุฑุฎุช (tree) ุงุฒ ุงููุงูโูุง ู ููุฏูุง ุณูุฏ HTML ฺฉู ุงูฺฉุงู ูพูุงุด ู ุฏุณุชฺฉุงุฑ ูุญุชูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ.  

ุงู ุฏู ูุงู ุจุง ูู ุชุฌุฑุจูู ฺฉุงุฑุจุฑ ูพูุง ุฏุฑ ูุจ ุฑุง ูโุณุงุฒูุฏ: BOM ฺฉูุชุฑู ูพูุฌุฑู ู ูุถุนุช ูุฑูุฑฺฏุฑุ DOM ฺฉูุชุฑู ูุญุชูุง ู ุณุงุฎุชุงุฑ ุตูุญู.

---

## ฒ. Browser Object Model (BOM)

### window: ููุทูู ุขุบุงุฒ ููู ฺุฒ

- global object ุจุฑุง ุงุณฺฉุฑูพุชโูุง  
- ูฺฺฏโูุง ฺฉูุฏ:
  - location (URL ฺฉููู ู ูุชุฏูุง ุชุบุฑ ุขุฏุฑุณ)  
  - history (ุญุฑฺฉุช ุจู ุตูุญุงุช ุจุง back/forward)  
  - navigator (ุงุทูุงุนุงุช ูุฑูุฑฺฏุฑ ู ุณุณุชู ุนุงูู)  
  - screen (ุฑุฒูููุดู ู ุงุจุนุงุฏ ุตูุญู ููุงุด)  
  - setTimeout / setInterval (ุชุงูุฑูุง)  

#### ูุซุงู:

```js
console.log(window.location.href);     // URL ฺฉุงูู
window.location.assign('https://example.com');
```

#### ุชุงูุฑูุง:

```js
const id = window.setTimeout(() => alert('ุณูุงู!'), 1000);
window.clearTimeout(id);
```

---

## ณ. Document Object Model (DOM)

### ุณุงุฎุชุงุฑ ุฏุฑุฎุช ุณูุฏ

- ุฑุดู: `document`  
- ููุฏูุง:
  - Document  
  - Element (ุจุฑฺุณุจโูุง HTML)  
  - Text  
  - Comment  

### ุฏุณุชุฑุณ ุจู document

```js
console.log(document.documentElement);  // ุชฺฏ <html>
console.log(document.head);             // ุชฺฏ <head>
console.log(document.body);             // ุชฺฏ <body>
```

---

## ด. ุงูุชุฎุงุจ (Selection) ุงููุงูโูุง

### ุฑูุดโูุง ูุฏู

- `getElementById(id)` โ ุชฺฉ ุงููุงู  
- `getElementsByTagName(tag)` โ HTMLCollection ุฒูุฏู  
- `getElementsByClassName(class)` โ HTMLCollection ุฒูุฏู  

### ุฑูุด ุชูุตูโุดุฏู (CSS Selectors)

- `querySelector(selector)` โ ุงููู ุงููุงู  
- `querySelectorAll(selector)` โ NodeList ุงุณุชุง  

#### ูุซุงู:

```js
const header = document.getElementById('main-title');
const items  = document.getElementsByClassName('item');  // HTMLCollection
const btn    = document.querySelector('.btn.primary');
const links  = document.querySelectorAll('a[data-action]');
```

---

## ต. ุฏุณุชฺฉุงุฑ (Manipulation) ุงููุงูโูุง

### ูุญุชูุง

- `element.textContent` ุจุฑุง ูุชู ุงูู  
- `element.innerHTML` ุจุฑุง HTML (ุณุฑุนุช ุจุงูุง ุงูุง ุฑุณฺฉ XSS)

```js
header.textContent = 'ุนููุงู ุฌุฏุฏ';
container.innerHTML = '<p>ุณูุงู ุฏูุง!</p>';
```

### ูฺฺฏโูุง ู ุตูุงุช (Attributes)

- `getAttribute / setAttribute / removeAttribute`
- ุฏุณุชุฑุณ ูุณุชูู ุจู ุจุฑุฎ ุตูุงุช ูุงููุฏ `element.id` ุง `element.href`

```js
link.setAttribute('target', '_blank');
console.log(link.href);
link.removeAttribute('data-temp');
```

### ฺฉูุงุณโูุง ู ุงุณุชุงูโูุง

- `classList.add/remove/toggle/contains`
- `element.style.property = value`

```js
box.classList.add('active');
box.style.backgroundColor = 'lightblue';
```

### ุงุฌุงุฏ ู ุญุฐู ุงููุงู

- `document.createElement(tagName)`  
- `parent.appendChild(node)`, `parent.insertBefore(node, refNode)`  
- `node.remove()`, `parent.removeChild(node)`

```js
const newItem = document.createElement('li');
newItem.textContent = 'ุขุชู ุฌุฏุฏ';
list.appendChild(newItem);
newItem.remove();
```

---

## ถ. ููุฑุณุช ุฒูุฌุฑูโุง nูุฏูุง ู ฺฉุงุฑุง

- `children` (Element-only)ุ `childNodes` (ุดุงูู Text ู Comment)  
- HTMLCollection ุฒูุฏู: ุจุง ุชุบุฑ DOMุ ุจูุงูุงุตูู ุจูโุฑูุฒุฑุณุงู ูโุดูุฏ  
- NodeList ุงุณุชุง: snapshot ุงุฒ ูุญุธูู ูุฑุงุฎูุงู

ุจุฑุง ฺฉุงุฑุง ุจูุชุฑ ุญู ุญููู ุฒุฏู:

```js
const items = Array.from(list.children);
items.forEach(item => { /* ... */ });
```

---

## ท. ูุฏุฑุช ุฑูุฏุงุฏูุง (Event Handling)

- `element.addEventListener(type, handler, options)`  
- `element.removeEventListener(type, handler)`  
- event propagation: capturing โ target โ bubbling  
- event delegation ุจุฑุง ุชุนุฏุงุฏ ุฒุงุฏ ุงููุงู

#### ูุซุงู ุณุงุฏู:

```js
button.addEventListener('click', event => {
  console.log('ุฏฺฉูู ฺฉูฺฉ ุดุฏ:', event.target);
});
```

#### event delegation:

```js
list.addEventListener('click', e => {
  if (e.target.matches('li.item')) {
    console.log('ุขุชู ูุณุช ฺฉูฺฉ ุดุฏ:', e.target.textContent);
  }
});
```

---

## ธ. ุฑููู ู ุฑโูพููุช (Reflow & Repaint)

- ุชุบุฑ ุณุงุฎุชุงุฑ ุง ุงุจุนุงุฏ ุงููุงู (ูุซู `offsetWidth` ุง `innerHTML`) ุจุงุนุซ reflow ูโุดูุฏ  
- ุชุบุฑ CSS (ุฑูฺฏุ ูพุณโุฒููู) ุจุงุนุซ repaint ูโุดูุฏ  
- ุจุฑุง ุจูููโุณุงุฒ:  
  - ฺฏุฑููโุจูุฏ ุชุบุฑุงุช DOM ุฏุฑ ฺฉ fragment  
  - ุงุณุชูุงุฏู ุงุฒ ฺฉูุงุณโูุง ุจูโุฌุง ุชุบุฑ ูุณุชูู ุณุจฺฉโูุง  
  - ุฎูุงูุฏู ู ููุดุชู DOM ุจูโุตูุฑุช ฺฏุฑูู  

---

## น. ูุซุงู ุนูู: ุณุงุฎุช TODO ูุณุช ุณุงุฏู

```html
<ul id="todo-list"></ul>
<input id="todo-input" placeholder="ุชุณฺฉ ุฌุฏุฏ..." />
<button id="add-btn">ุงูุฒูุฏู</button>
```

```js
const list  = document.getElementById('todo-list');
const input = document.getElementById('todo-input');
const btn   = document.getElementById('add-btn');

btn.addEventListener('click', () => {
  const text = input.value.trim();
  if (!text) return;

  const li = document.createElement('li');
  li.textContent = text;
  li.classList.add('todo-item');
  list.appendChild(li);
  input.value = '';
});

// ุญุฐู ุขุชู ุจุง ุฏุงุจู ฺฉูฺฉ
list.addEventListener('dblclick', e => {
  if (e.target.matches('.todo-item')) {
    e.target.remove();
  }
});
```

---

## ฑฐ. ุฌูุนโุจูุฏ ู ฺฏุงูโูุง ุจุนุฏ

- BOM ุจุฑุง ุงุฑุชุจุงุท ุจุง ูุญุท ูุฑูุฑฺฏุฑ (URLุ ุชุงุฑุฎฺูุ ุชุงูุฑูุง)  
- DOM ุจุฑุง ุณุงุฎุชุงุฑุฏู ู ุฏุณุชฺฉุงุฑ ูุญุชูุง ุตูุญู  
- ุฑูุดโูุง ุงูุชุฎุงุจ ุงููุงู: ุงุฒ `getElementById` ุชุง `querySelectorAll`  
- ุจูููโุณุงุฒ ุชุบุฑุงุช DOM ุจุง ุฏุฑฺฉ reflow/repaint  
- ูุฏุฑุช ุฑูุฏุงุฏูุง ู delegation ุจุฑุง ุชุนุงูู ฺฉุงุฑุจุฑ  

ุจุฑุง ุงุฏุงูู ูโุชูุงูู ุจู ูุจุงุญุซ ูพุดุฑูุชูโุชุฑ ูุงููุฏ:  
- Shadow DOM ู Web Components  
- Virtual DOM ุฏุฑ React/Vue  
- MutationObserver ุจุฑุง ูุธุงุฑุช ุจุฑ ุชุบุฑุงุช DOM  
- APIูุง ุฌุฏุฏ ูุฑูุฑฺฏุฑ ูุซู ResizeObserver ู IntersectionObserver  

ฺฉุฏุงู ฺฉ ุงุฒ ุงู ูุจุงุญุซ ูุธุฑุช ุฑุง ุฌูุจ ฺฉุฑุฏุ ๐
