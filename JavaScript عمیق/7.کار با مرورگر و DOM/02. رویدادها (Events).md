# ุฑูุฏุงุฏูุง (Events) ุฏุฑ JavaScript โ ุชูุถุญ ฺฉุงูู ู ุนูู

---

## ฑ. ููุฏูู: ฺุฑุง ูุฏุฑุช ุฑูุฏุงุฏูุง

ุฏุฑ ูุจโุงูพโูุงุ ุชูุฑุจุงู ูุฑ ุชุนุงูู ฺฉู ฺฉุงุฑุจุฑ ุงูุฌุงู ูโุฏูุฏ (ฺฉูฺฉุ ุชุงูพุ ุงุณฺฉุฑูู) ุจุง **ุฑูุฏุงุฏ** (Event) ุซุจุช ู ููุชุดุฑ ูโุดูุฏ.  
ุฏุฑฺฉ ุฏูู ฺุฑุฎูู ุฑูุฏุงุฏุ ูุญููู ุงูุชุดุงุฑ ู ุชฺฉูฺฉโูุง ุจูููโุณุงุฒุ ุจุฑุง ููุดุชู ฺฉุฏูุง ููุงุณโูพุฐุฑุ ุชูุฒ ู ุจุง ุนููฺฉุฑุฏ ุจููู ุถุฑูุฑ ุงุณุช.

---

## ฒ. ุณุงุฎุชุงุฑ ฺฉู ุฑูุฏุงุฏ ุฏุฑ DOM

- ูุฑ ุฑูุฏุงุฏ ฺฉ ุดโุก ุฏุงุฑุฏ ุจุง ุฎุตูุตุงุช ููู ูุซู `type`, `target`, `currentTarget`, `eventPhase`.  
- ุชุงุจุน ุดูููุฏู (listener) ุจุง `addEventListener(type, handler, options)` ุจู ุงููุงู ูุชุตู ูโุดูุฏ.  
- `handler` ุดู ุฑูุฏุงุฏ ุฑุง ุฏุฑุงูุช ูโฺฉูุฏ ู ุฏุฑูู ุขู ูโุชูุงูู `preventDefault()`, `stopPropagation()` ุง `stopImmediatePropagation()` ูุฑุงุฎูุงู ฺฉูู.

```js
button.addEventListener('click', event => {
  console.log('ููุน:', event.type);
  console.log('ูุฏู:', event.target);
});
```

---

## ณ. ุงูุชุดุงุฑ (Bubbling) ู ูุฑูฺฉุด (Capturing)

### ณ.ฑ. Capturing (ูุฑูฺฉุด)
- ุฌุฑุงู ุฑูุฏุงุฏ ุงุฒ ุฑุดูู ุณูุฏ (`window` โ `document` โ `<html>` โ โฆ) ุจู ุณูุช ุงููุงู ูุฏู ุญุฑฺฉุช ูโฺฉูุฏ.  
- ุงฺฏุฑ `capture: true` ุฏุฑ `addEventListener` ุชูุธู ุดุฏู ุจุงุดุฏุ ุดูููุฏู ุฏุฑ ุงู ูุงุฒ ุงุฌุฑุง ูโุดูุฏ.

```js
container.addEventListener('click', onClick, { capture: true });
```

### ณ.ฒ. At Target
- ุฑูุฏุงุฏ ุจู ุงููุงู ูุฏู ูโุฑุณุฏ ู ุดูููุฏูโูุง ุจุฏูู `capture` ู ุจุง `capture` (ุฏุฑ ุงู ูุงุฒ) ุงุฌุฑุง ูโุดููุฏ.

### ณ.ณ. Bubbling (ุงูุชุดุงุฑ)
- ูพุณ ุงุฒ ูุฏูุ ุฌุฑุงู ุฑูุฏุงุฏ ุงุฒ ุฏุฑุฎุช DOM ุตุนูุฏ (bubble) ูโฺฉูุฏ: ุงุฒ ูุฑุฒูุฏ โ ูุงูุฏ โ โฆ โ `window`.  
- ุญุงูุช ูพุดโูุฑุถ `addEventListener` ุฑู `capture: false` ุงุณุช.

```js
container.addEventListener('click', onClick, { capture: false });
```

| ูุงุฒ          | ุชุฑุชุจ ุงุฌุฑุง                          | ฺฏุฒูู ุฏุฑ `addEventListener` |
|--------------|--------------------------------------|-----------------------------|
| Capturing    | ุงุฒ ุจุงูุง ุจู ูพุงู                    | `{ capture: true }`         |
| At Target    | ุฑู ุฎูุฏ ุงููุงู ูุฏู                   | ูู ุจุง true ูู false ุงุฌุฑุง    |
| Bubbling     | ุงุฒ ูพุงู ุจู ุจุงูุง (ูุฑุฒูุฏ โ ูุงูุฏ)     | `{ capture: false }`        |

---

## ด. Event Delegation (ูุงฺฏุฐุงุฑ ุฑูุฏุงุฏ)

ูุงฺฏุฐุงุฑ ุฑูุฏุงุฏ ุชฺฉูฺฉ ุงุณุช ฺฉู ุจูโุฌุง ุงุถุงูู ฺฉุฑุฏู listener ุจู ูุฑ ุงููุงู ูุฑุฒูุฏุ ฺฉ listener ุฑู ูุงูุฏ ูุดุชุฑฺฉ (ูุซูุงู container) ุงุถุงูู ูโฺฉูู ู ุจุง ุจุฑุฑุณ `event.target` ูุดุฎุต ูโฺฉูู ฺฉุฏุงู ูุฑุฒูุฏ ุฑูุฏุงุฏ ุฑุง ุงุฌุงุฏ ฺฉุฑุฏู ุงุณุช.

### ูุฒุงุง
- ุตุฑููโุฌู ุฏุฑ ุญุงูุธู ู ุฒูุงูโุจุฎุดุฏู ุจู attach/remove  
- ุฎูุฏฺฉุงุฑ ูพูุดุด ุฏุงุฏู ุงููุงูโูุง ุฏุงูุงูฺฉ ฺฉู ุจุนุฏุงู ุจู DOM ุงุถุงูู ูโุดููุฏ  

```js
const list = document.getElementById('menu');
list.addEventListener('click', event => {
  if (event.target.matches('li.menu-item')) {
    console.log('ฺฉูฺฉ ุฑู ุขุชู:', event.target.textContent);
  }
});
```

---

## ต. Throttling ู Debouncing

### ต.ฑ. Debouncing
ุชูุงุจุน debounced ุชุง ููุช ฺฉุงุฑุจุฑ ูุชููู ูุดูุฏุ ุงุฌุฑุง ููโุดููุฏ. ููุงุณุจ ููุงุฑุฏ ูุซู ุฌุณุชุฌู ุฒูุฏู ุง ุจุงุฒฺฏุฐุงุฑ ุฎูุฏฺฉุงุฑ.

```js
function debounce(fn, delay) {
  let timer;
  return function(...args) {
    clearTimeout(timer);
    timer = setTimeout(() => fn.apply(this, args), delay);
  };
}

window.addEventListener('resize', debounce(() => {
  console.log('ฺฉุงุฑ resize ุชูุงู ุดุฏ!');
}, 300));
```

### ต.ฒ. Throttling
ุชูุงุจุน throttled ููุท ูุฑ ุจุงุฒูู ุฒูุงู ูุดุฎุต ฺฉโุจุงุฑ ุงุฌุฑุง ูโุดููุฏ. ููุงุณุจ scroll, mousemove.

```js
function throttle(fn, interval) {
  let last = 0;
  return function(...args) {
    const now = Date.now();
    if (now - last >= interval) {
      last = now;
      fn.apply(this, args);
    }
  };
}

window.addEventListener('scroll', throttle(() => {
  console.log('ุงุณฺฉุฑูู ุชฺฉุฑุงุฑ ุดุฏ');
}, 200));
```

| ูฺฺฏ       | Debounce                                | Throttle                              |
|-------------|-----------------------------------------|---------------------------------------|
| ูุฏู ุงุตู    | ุงุฌุฑุง ุจุนุฏ ุงุฒ ูพุงุงู ูุนุงูุช               | ุงุฌุฑุง ุจูโุทูุฑ ููุธู ุฏุฑ ุทูู ูุนุงูุช       |
| ููุงุณุจุช     | ุฌุณุชุฌู ุฒูุฏูุ ูุฑูโูุง                     | ุงุณฺฉุฑููุ ุญุฑฺฉุช ูุงูุณุ ุงููุดูโูุง ูุฏุงูู |
| ุงูฺฏูุฑุชู   | clearTimeout + setTimeout               | ููุงุณู ุฒูุงู ูุนู ู ุขุฎุฑู ุงุฌุฑุง        |

---

## ถ. ูฺฉุงุช ูพุดุฑูุชู ู ุจูููโุณุงุฒ

- ุงุณุชูุงุฏู ุงุฒ `passive: true` ุฏุฑ listenerูุง scroll/touch ุจุฑุง ุจูุจูุฏ ุนููฺฉุฑุฏ  
- cleanup ุฎูุฏฺฉุงุฑ ุจุง `removeEventListener` ุง ุงุณุชูุงุฏู ุงุฒ `AbortController`  
- ุชุณุช propagation ุจุง `event.eventPhase` ู ุจุฑุฑุณ `stopPropagation`  
- ุฏุฑ React: ุงุณุชูุงุฏู ุงุฒ delegation ุฏุงุฎู ู SyntheticEvent ุจุฑุง ฺฉููุงุฎุชโุณุงุฒ ุฑูุฏุงุฏูุง  

---

## ท. ุฌูุนโุจูุฏ

- ุฏุฑฺฉ ฺฉุงูู ุงุฒ **Capturing** ู **Bubbling** ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูุดฺฉูุงุช propagation ุถุฑูุฑ ุงุณุช.  
- **Event Delegation** ุญุงูุธู ู ฺฉุงุฑุง ุฑุง ุจุงูุง ูโุจุฑุฏุ ุจูโูฺู ุฏุฑ ูุณุชโูุง ุฏุงูุงูฺฉ.  
- **Debounce** ู **Throttle** ุงุจุฒุงุฑูุง ฺฉูุฏ ุจุฑุง ฺฉูุชุฑู ูุฑุงูุงู ุงุฌุฑุง handlerูุง ูุณุชูุฏ.  
- ุจุง ุชุฑฺฉุจ ุงู ุชฺฉูฺฉโูุงุ ูโุชูุงูุฏ ุฑุงุจุทโูุง ฺฉุงุฑุจุฑ ูพุงุณุฎฺฏูุ ุจููู ู ููุงุณโูพุฐุฑ ุจุณุงุฒุฏ.

---

### ฺฏุงูโูุง ุจุนุฏ  
- ุจุฑุฑุณ Passive Event Listeners ู ุชุฃุซุฑ ุขูโูุง ุฑู ุนููฺฉุฑุฏ  
- ฺฉุงุฑ ุจุง Web Workers ุจุฑุง offload ฺฉุฑุฏู heavy event handling  
- ูุฑูุฑ ุจุฑ RxJS ุจุฑุง ูุฏุฑุช ุฑูุฏุงุฏูุง ุจูโุตูุฑุช observable streams  
- ูพุงุฏูโุณุงุฒ ุงูฺฏููุง Cleanup ุฎูุฏฺฉุงุฑ ุจุง React Hooks ุง Vanilla JS

ฺฉุฏุงู ููุถูุน ุจุฑุงุช ุฌุฐุงุจโุชุฑ ุงุณุช ุชุง ุนููโุชุฑ ุงุฏุงูู ุฏููุ ๐
